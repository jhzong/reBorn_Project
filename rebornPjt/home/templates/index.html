{% extends "base.html" %}
{% block css %}
<link rel='stylesheet' href="/static/css/restaurants.css">
<style>
/* HEADER */
/*.r_header {
    background: #fff;
    padding: 20px;
    border-bottom: 1px solid #eee;
}

.r_logo {
    font-size: 24px;
    margin-bottom: 15px;
}

.r_search-box {
    display: flex;
    gap: 10px;
}

.r_search-box input {
    flex: 1;
    padding: 12px;
    border-radius: 8px;
    border: 1px solid #ddd;
}

.r_search-box button {
    padding: 12px 20px;
    border-radius: 8px;
    border: none;
    background: #111;
    color: #fff;
}*/
.r_search-box {
    position: relative; /* ìì‹ ìš”ì†Œì¸ ì•„ì´ì½˜ì˜ ê¸°ì¤€ì ì´ ë©ë‹ˆë‹¤ */
}

.r_search-box button{
    cursor: pointer;
}

/* 2. ì•„ì´ì½˜ ìœ„ì¹˜ ìµœì í™” */
.filter-icon-button {
    position: absolute;
    /* ë²„íŠ¼(ê²€ìƒ‰) ë„ˆë¹„ì™€ ê°„ê²©ì„ ê³ ë ¤í•˜ì—¬ ì˜¤ë¥¸ìª½ì—ì„œ ë„ì›€ */
    /* ë³´í†µ ê²€ìƒ‰ ë²„íŠ¼ì˜ ë„ˆë¹„ê°€ 70~80pxì´ë¯€ë¡œ ê·¸ ì•ì— ìœ„ì¹˜ì‹œí‚µë‹ˆë‹¤ */
    right: 85px; 
    top: 50%; /* ì •í™•íˆ ì„¸ë¡œ ì¤‘ì•™ */
    transform: translateY(-50%); /* ì •í™•íˆ ì„¸ë¡œ ì¤‘ì•™ */
    background: none;
    border: none;
    cursor: pointer;
    padding: 5px;
    z-index: 10;
    display: flex; /* ì•„ì´ì½˜ ì´ë¯¸ì§€ ì •ë ¬ */
    align-items: center;
}

.filter-icon-button img {
    width: 24px;
    height: 24px;
}

/* 3. ì…ë ¥ì°½ì´ ì•„ì´ì½˜ê³¼ ê²¹ì¹˜ì§€ ì•Šê²Œ ì—¬ë°± ì£¼ê¸° */
.r_search-box input {
    flex: 1;
    padding: 12px;
    padding-right: 45px; /* ì•„ì´ì½˜ì´ ë“¤ì–´ê°ˆ ê³µê°„ í™•ë³´ (ì¤‘ìš”) */
    border-radius: 8px;
    border: 1px solid #ddd;
}
</style>
{% endblock css %}
{% block script %}
<script>
    function searchData() {
        let url = "/restaurants/reslist";
        location.href = url+"?"+frm;
        //location.href = url+"?"+encodeURIComponent(frm);
        /*$.ajax({
            url:url,
            type: 'GET',
            dataType:'json',
            data:$("#searchFrm").serialize(),
            success: function(data) {
                location.href="/restaurants/rlist";
            },
            error: function(xhr, errMsg, err) {
                //console.error("ì„œë²„ ì—ëŸ¬ : ", errMsg);
                alert("ì„œë²„ì—ëŸ¬");
            }
        });*/
    }

    let frm = {};
    $(document).ready(function() {
        //ê²€ìƒ‰í•„í„° ì ìš©
        $(document).on("click", ".btn-apply-filter", function () {
            frm = $("#searchFrm").serialize();

            // ì•„ì´ì½˜ ë³€ê²½
            $("#filterBtn img").attr("src", "/static/images/home/icon_filter_on.png");

            // íŒì—… ë‹«ê¸°
            $(".modal").hide();
            $("body").removeClass("modal-open");
        });

        //ê²€ìƒ‰ë²„íŠ¼ í´ë¦­
        $('#filterBtn').on('click', function(){
            SearchFilterModal('modal-filter', 'filterBtn', frm);
        });
    });
</script>
{% endblock script %}
{% block body %}
<div id='header_bg'>
    <div clss='main-header-area'>
    </div>
</div>
<header class="r_header">
    <h1 class="r_logo">ğŸ½ï¸ ë¯¸ì‹ ê°€ì´ë“œ</h1>

    <div class="r_search-box">
        {% comment %} <a class="filter-icon-button" data-toggle="modal" data-target="#modal-filter" onclick="SearchFilterModal('modal-filter',frm);"> {% endcomment %}
        <a class="filter-icon-button" data-toggle="modal" data-target="#modal-filter" id="filterBtn">
            <img src="/static/images/home/icon_filter_off.png" alt="í•„í„° ì•„ì´ì½˜">
        </a>
        <input type="text" placeholder="ìŒì‹ì  ì´ë¦„ì„ ê²€ìƒ‰í•´ë³´ì„¸ìš”">
        <button onclick="searchData();">ê²€ìƒ‰</button>
    </div>
</header>
<!-- Modal Body -->
<form id="searchFrm" name="searchFrm">
    <div id="modal-filter" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="modalTitle"></div>
</form>
{% endblock body %}